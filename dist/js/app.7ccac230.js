(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],r=!0,i=1;i<o.length;i++){var c=o[i];0!==n[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=o[0]))}return e}var r={},n={app:0},a=[];function s(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=r,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(o,r,function(t){return e[t]}.bind(null,r));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},1:function(e,t){},2:function(e,t){},3:function(e,t){},"3ae5":function(e,t,o){},"4e42":function(e,t,o){"use strict";o("d513")},"56d7":function(e,t,o){"use strict";o.r(t);var r=o("7a23");const n={id:"app"},a={key:0},s={style:{color:"white"}},i={key:0,class:"auth-container"},c={key:1,class:"main-container"},l={class:"row"},d={class:"col-md-6"},u={class:"col-md-6"},m={key:0,class:"mt-4"},p={key:1,class:"mt-4"};function b(e,t,o,b,h,O){const g=Object(r["resolveComponent"])("va-navbar-item"),j=Object(r["resolveComponent"])("va-button"),w=Object(r["resolveComponent"])("va-navbar"),f=Object(r["resolveComponent"])("Authentication"),v=Object(r["resolveComponent"])("BedrockChatbot"),y=Object(r["resolveComponent"])("PrintRequestForm"),C=Object(r["resolveComponent"])("OrderStatus"),E=Object(r["resolveComponent"])("OrderHistory");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[Object(r["createVNode"])(w,{color:"#2c3e50",class:"mb-4"},{left:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])(()=>t[0]||(t[0]=[Object(r["createElementVNode"])("h2",{style:{color:"white",margin:"0"}},"ðŸŽ¨ Hunyuan 3D Printer",-1)])),_:1,__:[0]})]),right:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])(()=>["signedin"===h.authState&&h.user?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createElementVNode"])("span",s,"Welcome, "+Object(r["toDisplayString"])(h.user.username)+"!",1),Object(r["createVNode"])(j,{onClick:O.signOut,color:"danger",size:"small",class:"ml-2"},{default:Object(r["withCtx"])(()=>t[1]||(t[1]=[Object(r["createTextVNode"])(" Sign Out ")])),_:1,__:[1]},8,["onClick"])])):Object(r["createCommentVNode"])("",!0)]),_:1})]),_:1}),"signedin"!==h.authState?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,[Object(r["createVNode"])(f,{onAuthStateChange:O.handleAuthStateChange},null,8,["onAuthStateChange"])])):Object(r["createCommentVNode"])("",!0),"signedin"===h.authState?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[Object(r["createElementVNode"])("div",l,[Object(r["createElementVNode"])("div",d,[Object(r["createVNode"])(v,{userId:h.user.username,onAnimalCompanionSelected:O.handleAnimalCompanionSelected},null,8,["userId","onAnimalCompanionSelected"])]),Object(r["createElementVNode"])("div",u,[Object(r["createVNode"])(y,{onOrderSubmitted:O.handleOrderSubmitted,isLoading:h.isSubmitting,animalCompanion:h.animalCompanion},null,8,["onOrderSubmitted","isLoading","animalCompanion"])])]),h.currentOrder?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",m,[Object(r["createVNode"])(C,{order:h.currentOrder,onStatusUpdate:O.handleStatusUpdate},null,8,["order","onStatusUpdate"])])):Object(r["createCommentVNode"])("",!0),h.orderHistory.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",p,[Object(r["createVNode"])(E,{orders:h.orderHistory},null,8,["orders"])])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)])}var h=o("bf82");const O={class:"auth-wrapper"},g={class:"form-group"},j={class:"form-group"},w={key:0,class:"form-group"},f={key:1,class:"form-group"},v={class:"form-actions"},y={class:"form-toggle"};function C(e,t,o,n,a,s){const i=Object(r["resolveComponent"])("va-card-title"),c=Object(r["resolveComponent"])("va-input"),l=Object(r["resolveComponent"])("va-button"),d=Object(r["resolveComponent"])("va-card-content"),u=Object(r["resolveComponent"])("va-card");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",O,[Object(r["createVNode"])(u,{class:"auth-card"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(i,null,{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("h3",null,Object(r["toDisplayString"])(a.isSignUp?"Create Account":"Sign In"),1)]),_:1}),Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=Object(r["withModifiers"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"]))},[Object(r["createElementVNode"])("div",g,[Object(r["createVNode"])(c,{modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),type:"email",label:"Email",rules:[s.required,s.emailRule],required:""},null,8,["modelValue","rules"])]),Object(r["createElementVNode"])("div",j,[Object(r["createVNode"])(c,{modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),type:"password",label:"Password",rules:[s.required,s.passwordRule],required:""},null,8,["modelValue","rules"])]),a.isSignUp?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",w,[Object(r["createVNode"])(c,{modelValue:a.confirmPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>a.confirmPassword=e),type:"password",label:"Confirm Password",rules:[s.required,s.confirmPasswordRule],required:""},null,8,["modelValue","rules"])])):Object(r["createCommentVNode"])("",!0),null!==a.confirmationCode?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",f,[Object(r["createVNode"])(c,{modelValue:a.confirmationCode,"onUpdate:modelValue":t[3]||(t[3]=e=>a.confirmationCode=e),label:"Confirmation Code",placeholder:"Enter the code sent to your email",required:""},null,8,["modelValue"])])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",v,[Object(r["createVNode"])(l,{type:"submit",loading:a.loading,color:"primary",class:"auth-button"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(s.getButtonText()),1)]),_:1},8,["loading"])]),Object(r["createElementVNode"])("div",y,[Object(r["createVNode"])(l,{onClick:s.toggleMode,preset:"plain",color:"secondary"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(a.isSignUp?"Already have an account? Sign In":"Need an account? Sign Up"),1)]),_:1},8,["onClick"])])],32)]),_:1})]),_:1})])}var E={name:"Authentication",data(){return{isSignUp:!1,email:"",password:"",confirmPassword:"",confirmationCode:null,loading:!1,user:null}},methods:{required(e){return!!e||"This field is required"},emailRule(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)||"Please enter a valid email address"},passwordRule(e){return e.length>=8||"Password must be at least 8 characters"},confirmPasswordRule(e){return e===this.password||"Passwords do not match"},toggleMode(){this.isSignUp=!this.isSignUp,this.confirmationCode=null,this.password="",this.confirmPassword=""},getButtonText(){return null!==this.confirmationCode?"Confirm Account":this.isSignUp?"Sign Up":"Sign In"},async handleSubmit(){this.loading=!0;try{null!==this.confirmationCode?await this.confirmSignUp():this.isSignUp?await this.signUp():await this.signIn()}catch(e){this.$toast.error(e.message||"Authentication failed")}finally{this.loading=!1}},async signUp(){const{user:e}=await h["a"].signUp({username:this.email,password:this.password,attributes:{email:this.email}});this.user=e,this.confirmationCode="",this.$toast.success("Account created! Please check your email for confirmation code.")},async confirmSignUp(){await h["a"].confirmSignUp(this.email,this.confirmationCode),this.$toast.success("Account confirmed! You can now sign in."),this.confirmationCode=null,this.isSignUp=!1},async signIn(){const e=await h["a"].signIn(this.email,this.password);this.$emit("authStateChange","signedin",e),this.$toast.success("Successfully signed in!")}}},V=(o("e982"),o("6b0d")),N=o.n(V);const S=N()(E,[["render",C],["__scopeId","data-v-c47d3cb4"]]);var k=S;const x={class:"print-form-card"},I={class:"card-content"},A={class:"form-group"},P={class:"character-count"},_={class:"form-row"},D={class:"form-group half-width"},B={class:"form-group half-width"},T={class:"checkbox-label"},U={class:"example-prompts"},M={class:"examples"},R=["onClick"],L={class:"form-actions"},F=["disabled"],q={key:0},H={key:1};function $(e,t,o,n,a,s){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",x,[t[10]||(t[10]=Object(r["createElementVNode"])("div",{class:"card-header"},[Object(r["createElementVNode"])("h3",null,"ðŸŽ¨ Create Your 3D Model")],-1)),Object(r["createElementVNode"])("div",I,[Object(r["createElementVNode"])("form",{onSubmit:t[3]||(t[3]=Object(r["withModifiers"])((...e)=>s.submitRequest&&s.submitRequest(...e),["prevent"]))},[Object(r["createElementVNode"])("div",A,[t[4]||(t[4]=Object(r["createElementVNode"])("label",{for:"prompt"},"Describe your 3D model:",-1)),Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{id:"prompt","onUpdate:modelValue":t[0]||(t[0]=e=>a.prompt=e),placeholder:"e.g., A detailed turtle with geometric shell patterns, A modern coffee mug with handle, A miniature castle with towers...",rows:"4",maxlength:"500",required:"",class:"form-textarea"},null,512),[[r["vModelText"],a.prompt]]),t[5]||(t[5]=Object(r["createElementVNode"])("div",{class:"help-text"}," Be as descriptive as possible. The AI will use your description to generate a unique 3D model. ",-1)),Object(r["createElementVNode"])("div",P,Object(r["toDisplayString"])(a.prompt.length)+"/500",1)]),Object(r["createElementVNode"])("div",_,[Object(r["createElementVNode"])("div",D,[t[7]||(t[7]=Object(r["createElementVNode"])("label",{for:"resolution"},"Model Resolution:",-1)),Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{id:"resolution","onUpdate:modelValue":t[1]||(t[1]=e=>a.resolution=e),class:"form-select"},t[6]||(t[6]=[Object(r["createElementVNode"])("option",{value:"low"},"Low (Fast)",-1),Object(r["createElementVNode"])("option",{value:"standard"},"Standard",-1),Object(r["createElementVNode"])("option",{value:"high"},"High (Detailed)",-1)]),512),[[r["vModelSelect"],a.resolution]])]),Object(r["createElementVNode"])("div",B,[Object(r["createElementVNode"])("label",T,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>a.includeTexture=e),class:"form-checkbox"},null,512),[[r["vModelCheckbox"],a.includeTexture]]),t[8]||(t[8]=Object(r["createTextVNode"])(" Include Texture "))])])]),Object(r["createElementVNode"])("div",U,[t[9]||(t[9]=Object(r["createElementVNode"])("h4",null,"Example Prompts:",-1)),Object(r["createElementVNode"])("div",M,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(a.examplePrompts,e=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:e,onClick:Object(r["withModifiers"])(t=>a.prompt=e,["prevent"]),type:"button",class:"example-chip"},Object(r["toDisplayString"])(e),9,R))),128))])]),Object(r["createElementVNode"])("div",L,[Object(r["createElementVNode"])("button",{type:"submit",disabled:o.isLoading||!a.prompt.trim(),class:"submit-button"},[o.isLoading?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",q,"ðŸ”„ Generating...")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",H,"ðŸŽ¨ Generate 3D Model"))],8,F)])],32)])])}var G=o("a030"),z={name:"PrintRequestForm",props:{isLoading:{type:Boolean,default:!1},animalCompanion:{type:String,default:null}},data(){return{prompt:"",resolution:"standard",includeTexture:!0,examplePrompts:["A detailed turtle with geometric shell patterns","A modern coffee mug with ergonomic handle","A miniature castle with multiple towers","A decorative vase with spiral patterns","A cute robot with articulated joints","A fantasy dragon in flight pose","A architectural building model","A decorative lamp shade with cutouts"]}},watch:{animalCompanion(e){e&&this.generateAnimalCompanionPrompt(e)}},methods:{generateAnimalCompanionPrompt(e){const t={cat:"A 4cm diameter coin with a detailed cat design embossed on one side, with whiskers and alert eyes",dog:"A 4cm diameter coin with a loyal dog design embossed on one side, with floppy ears and friendly expression",turtle:"A 4cm diameter coin with a detailed turtle design embossed on one side, with geometric shell patterns",fox:"A 4cm diameter coin with a clever fox design embossed on one side, with pointed ears and bushy tail",owl:"A 4cm diameter coin with a wise owl design embossed on one side, with large eyes and detailed feathers",bear:"A 4cm diameter coin with a strong bear design embossed on one side, with raised paw and detailed fur",wolf:"A 4cm diameter coin with a majestic wolf design embossed on one side, with howling pose and detailed fur",rabbit:"A 4cm diameter coin with a quick rabbit design embossed on one side, with long ears and alert posture",dolphin:"A 4cm diameter coin with a playful dolphin design embossed on one side, with curved body and detailed fins",elephant:"A 4cm diameter coin with a wise elephant design embossed on one side, with trunk raised and detailed texture",tiger:"A 4cm diameter coin with a powerful tiger design embossed on one side, with stripes and fierce expression",lion:"A 4cm diameter coin with a regal lion design embossed on one side, with detailed mane and proud posture",eagle:"A 4cm diameter coin with a soaring eagle design embossed on one side, with spread wings and detailed feathers"};this.prompt=t[e.toLowerCase()]||`A 4cm diameter coin with a detailed ${e} design embossed on one side`},async submitRequest(){if(this.prompt.trim())try{const e=await h["a"].currentAuthenticatedUser(),t={prompt:this.prompt,userId:e.username,options:{resolution:this.resolution,includeTexture:this.includeTexture}};this.$emit("loading",!0),console.log("Submitting request:",t);const o=await G["a"].post("hunyuan3d","/print",{body:t});console.log("Response:",o),this.$emit("orderSubmitted",{orderId:o.orderId,prompt:this.prompt,status:"submitted",timestamp:(new Date).toISOString(),options:t.options}),alert("3D model generation started! Check the status below."),this.prompt=""}catch(e){console.error("Error submitting request:",e),alert("Failed to submit request: "+(e.message||"Please try again."))}finally{this.$emit("loading",!1)}else alert("Please describe what you want to create")}}};o("4e42");const Y=N()(z,[["render",$],["__scopeId","data-v-edc41b7c"]]);var W=Y;const J={class:"order-info"},Z={class:"order-header"},K={class:"order-details"},Q={class:"progress-section"},X={class:"progress-steps"},ee={key:0,class:"completed-section"},te={class:"download-actions"},oe={key:1,class:"error-section"},re={class:"refresh-section"},ne={class:"last-updated"};function ae(e,t,o,n,a,s){const i=Object(r["resolveComponent"])("va-card-title"),c=Object(r["resolveComponent"])("va-chip"),l=Object(r["resolveComponent"])("va-progress-bar"),d=Object(r["resolveComponent"])("va-icon"),u=Object(r["resolveComponent"])("va-alert"),m=Object(r["resolveComponent"])("va-button"),p=Object(r["resolveComponent"])("va-card-content"),b=Object(r["resolveComponent"])("va-card");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(i,null,{default:Object(r["withCtx"])(()=>t[0]||(t[0]=[Object(r["createElementVNode"])("h3",null,"ðŸ”„ Order Status",-1)])),_:1,__:[0]}),Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("div",J,[Object(r["createElementVNode"])("div",Z,[Object(r["createElementVNode"])("h4",null,"Order ID: "+Object(r["toDisplayString"])(o.order.orderId),1),Object(r["createVNode"])(c,{color:s.getStatusColor(o.order.status),class:"status-chip"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(s.getStatusText(o.order.status)),1)]),_:1},8,["color"])]),Object(r["createElementVNode"])("div",K,[Object(r["createElementVNode"])("p",null,[t[1]||(t[1]=Object(r["createElementVNode"])("strong",null,"Prompt:",-1)),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(o.order.prompt),1)]),Object(r["createElementVNode"])("p",null,[t[2]||(t[2]=Object(r["createElementVNode"])("strong",null,"Submitted:",-1)),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(s.formatDate(o.order.timestamp)),1)])]),Object(r["createElementVNode"])("div",Q,[Object(r["createVNode"])(l,{"model-value":s.getProgressValue(o.order.status),color:s.getStatusColor(o.order.status),class:"progress-bar"},null,8,["model-value","color"]),Object(r["createElementVNode"])("div",X,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(a.progressSteps,e=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:e.key,class:Object(r["normalizeClass"])(["step",{active:s.isStepActive(e.key),completed:s.isStepCompleted(e.key)}])},[Object(r["createVNode"])(d,{name:e.icon,color:s.getStepColor(e.key)},null,8,["name","color"]),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.label),1)],2))),128))])]),"COMPLETED"===o.order.status?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ee,[Object(r["createVNode"])(u,{color:"success",icon:"check_circle"},{default:Object(r["withCtx"])(()=>t[3]||(t[3]=[Object(r["createTextVNode"])(" Your 3D model is ready! You can download it below. ")])),_:1,__:[3]}),Object(r["createElementVNode"])("div",te,[Object(r["createVNode"])(m,{onClick:s.downloadModel,color:"primary",icon:"download",class:"download-btn"},{default:Object(r["withCtx"])(()=>t[4]||(t[4]=[Object(r["createTextVNode"])(" Download STL File ")])),_:1,__:[4]},8,["onClick"]),Object(r["createVNode"])(m,{onClick:s.viewPreview,color:"info",icon:"visibility",class:"preview-btn"},{default:Object(r["withCtx"])(()=>t[5]||(t[5]=[Object(r["createTextVNode"])(" 3D Preview ")])),_:1,__:[5]},8,["onClick"])])])):Object(r["createCommentVNode"])("",!0),"FAILED"===o.order.status?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",oe,[Object(r["createVNode"])(u,{color:"danger",icon:"error"},{default:Object(r["withCtx"])(()=>t[6]||(t[6]=[Object(r["createTextVNode"])(" Generation failed. Please try again with a different prompt. ")])),_:1,__:[6]})])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",re,[Object(r["createVNode"])(m,{onClick:s.refreshStatus,loading:a.refreshing,preset:"secondary",icon:"refresh",size:"small"},{default:Object(r["withCtx"])(()=>t[7]||(t[7]=[Object(r["createTextVNode"])(" Refresh Status ")])),_:1,__:[7]},8,["onClick","loading"]),Object(r["createElementVNode"])("span",ne,"Last updated: "+Object(r["toDisplayString"])(s.formatTime(a.lastUpdated)),1)])])]),_:1})]),_:1})}var se=o("5a0c"),ie=o.n(se),ce={name:"OrderStatus",props:{order:{type:Object,required:!0}},data(){return{refreshing:!1,lastUpdated:new Date,progressSteps:[{key:"submitted",label:"Submitted",icon:"send"},{key:"sanitizing",label:"Processing",icon:"cleaning_services"},{key:"reviewing",label:"Reviewing",icon:"fact_check"},{key:"generating",label:"Generating",icon:"3d_rotation"},{key:"completed",label:"Complete",icon:"check_circle"}],statusPolling:null}},mounted(){this.startStatusPolling()},beforeUnmount(){this.stopStatusPolling()},methods:{getStatusColor(e){const t={submitted:"info",SANITIZING:"warning",REVIEW:"warning",PROCESSING:"primary",COMPLETED:"success",FAILED:"danger",REJECTED:"danger"};return t[e]||"info"},getStatusText(e){const t={submitted:"Submitted",SANITIZING:"Processing Request",REVIEW:"Under Review",PROCESSING:"Generating Model",COMPLETED:"Completed",FAILED:"Failed",REJECTED:"Rejected"};return t[e]||e},getProgressValue(e){const t={submitted:20,SANITIZING:40,REVIEW:60,PROCESSING:80,COMPLETED:100,FAILED:100,REJECTED:100};return t[e]||0},isStepActive(e){const t=this.getCurrentStep();return e===t},isStepCompleted(e){const t=["submitted","sanitizing","reviewing","generating","completed"],o=t.indexOf(this.getCurrentStep()),r=t.indexOf(e);return r<o},getCurrentStep(){const e={submitted:"submitted",SANITIZING:"sanitizing",REVIEW:"reviewing",PROCESSING:"generating",COMPLETED:"completed",FAILED:"completed",REJECTED:"completed"};return e[this.order.status]||"submitted"},getStepColor(e){return this.isStepCompleted(e)?"success":this.isStepActive(e)?"primary":"secondary"},async refreshStatus(){this.refreshing=!0;try{const e=await G["a"].get("hunyuan3d","/print/"+this.order.orderId);this.$emit("statusUpdate",{...this.order,...e}),this.lastUpdated=new Date}catch(e){console.error("Error refreshing status:",e),this.$toast.error("Failed to refresh status")}finally{this.refreshing=!1}},startStatusPolling(){"COMPLETED"!==this.order.status&&"FAILED"!==this.order.status&&(this.statusPolling=setInterval(()=>{this.refreshStatus()},1e4))},stopStatusPolling(){this.statusPolling&&(clearInterval(this.statusPolling),this.statusPolling=null)},async downloadModel(){try{const e=await G["a"].get("hunyuan3d",`/print/${this.order.orderId}/download`);window.open(e.downloadUrl,"_blank")}catch(e){console.error("Error downloading model:",e),this.$toast.error("Failed to download model")}},async viewPreview(){try{const e=await G["a"].get("hunyuan3d",`/print/${this.order.orderId}/download`);window.open(e.previewUrl,"_blank")}catch(e){console.error("Error opening preview:",e),this.$toast.error("Failed to open preview")}},formatDate(e){return ie()(e).format("MMM D, YYYY h:mm A")},formatTime(e){return ie()(e).format("h:mm:ss A")}},watch:{"order.status"(e){"COMPLETED"===e||"FAILED"===e?this.stopStatusPolling():this.startStatusPolling()}}};o("7865");const le=N()(ce,[["render",ae],["__scopeId","data-v-56a410ac"]]);var de=le;const ue={key:0,class:"no-orders"},me={key:1,class:"orders-list"},pe={class:"order-summary"},be={class:"order-main"},he={class:"order-id"},Oe={class:"order-date"},ge={class:"order-status"},je={class:"order-actions"};function we(e,t,o,n,a,s){const i=Object(r["resolveComponent"])("va-card-title"),c=Object(r["resolveComponent"])("va-icon"),l=Object(r["resolveComponent"])("va-chip"),d=Object(r["resolveComponent"])("va-button"),u=Object(r["resolveComponent"])("va-card-content"),m=Object(r["resolveComponent"])("va-card");return Object(r["openBlock"])(),Object(r["createBlock"])(m,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(i,null,{default:Object(r["withCtx"])(()=>t[0]||(t[0]=[Object(r["createElementVNode"])("h3",null,"ðŸ“‹ Order History",-1)])),_:1,__:[0]}),Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])(()=>[0===o.orders.length?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ue,[Object(r["createVNode"])(c,{name:"history",size:"large",color:"secondary"}),t[1]||(t[1]=Object(r["createElementVNode"])("p",null,"No previous orders found.",-1))])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",me,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.orders,e=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:e.orderId,class:"order-item"},[Object(r["createElementVNode"])("div",pe,[Object(r["createElementVNode"])("div",be,[Object(r["createElementVNode"])("h4",null,Object(r["toDisplayString"])(s.truncatePrompt(e.prompt)),1),Object(r["createElementVNode"])("p",he,"Order ID: "+Object(r["toDisplayString"])(e.orderId),1),Object(r["createElementVNode"])("p",Oe,Object(r["toDisplayString"])(s.formatDate(e.timestamp)),1)]),Object(r["createElementVNode"])("div",ge,[Object(r["createVNode"])(l,{color:s.getStatusColor(e.status)},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(s.getStatusText(e.status)),1)]),_:2},1032,["color"])])]),Object(r["createElementVNode"])("div",je,["COMPLETED"===e.status?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,onClick:t=>s.downloadModel(e.orderId),size:"small",color:"primary",icon:"download"},{default:Object(r["withCtx"])(()=>t[2]||(t[2]=[Object(r["createTextVNode"])(" Download ")])),_:2,__:[2]},1032,["onClick"])):Object(r["createCommentVNode"])("",!0),"COMPLETED"===e.status?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:1,onClick:t=>s.viewPreview(e.orderId),size:"small",color:"info",icon:"visibility"},{default:Object(r["withCtx"])(()=>t[3]||(t[3]=[Object(r["createTextVNode"])(" Preview ")])),_:2,__:[3]},1032,["onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(d,{onClick:t=>s.reorderItem(e),size:"small",color:"secondary",icon:"refresh"},{default:Object(r["withCtx"])(()=>t[4]||(t[4]=[Object(r["createTextVNode"])(" Reorder ")])),_:2,__:[4]},1032,["onClick"])])]))),128))]))]),_:1})]),_:1})}var fe={name:"OrderHistory",props:{orders:{type:Array,required:!0}},methods:{getStatusColor(e){const t={submitted:"info",SANITIZING:"warning",REVIEW:"warning",PROCESSING:"primary",COMPLETED:"success",FAILED:"danger",REJECTED:"danger"};return t[e]||"info"},getStatusText(e){const t={submitted:"Submitted",SANITIZING:"Processing",REVIEW:"Under Review",PROCESSING:"Generating",COMPLETED:"Completed",FAILED:"Failed",REJECTED:"Rejected"};return t[e]||e},truncatePrompt(e){return e.length>60?e.substring(0,60)+"...":e},formatDate(e){return ie()(e).format("MMM D, YYYY h:mm A")},async downloadModel(e){try{const t=await G["a"].get("hunyuan3d",`/print/${e}/download`);window.open(t.downloadUrl,"_blank")}catch(t){console.error("Error downloading model:",t),this.$toast.error("Failed to download model")}},async viewPreview(e){try{const t=await G["a"].get("hunyuan3d",`/print/${e}/download`);window.open(t.previewUrl,"_blank")}catch(t){console.error("Error opening preview:",t),this.$toast.error("Failed to open preview")}},reorderItem(e){this.$emit("reorder",{prompt:e.prompt,options:e.options||{}}),this.$toast.info("Order details copied to form above")}}};o("d777");const ve=N()(fe,[["render",we],["__scopeId","data-v-f9fe4700"]]);var ye=ve;const Ce={class:"chatbot-container"},Ee={class:"chatbot-messages",ref:"messagesContainer"},Ve={key:0,class:"message bot"},Ne={ref:"messagesEnd"},Se={class:"chatbot-input"},ke=["disabled"],xe=["disabled"];function Ie(e,t,o,n,a,s){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ce,[t[4]||(t[4]=Object(r["createElementVNode"])("div",{class:"chatbot-header"},[Object(r["createElementVNode"])("h2",null,"Animal Companion Finder"),Object(r["createElementVNode"])("p",null,"Chat with me to discover your animal companion!")],-1)),Object(r["createElementVNode"])("div",Ee,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(a.messages,(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:t,class:Object(r["normalizeClass"])(["message",e.sender])},[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["message-bubble",{error:e.error}])},Object(r["toDisplayString"])(e.text),3)],2))),128)),a.isLoading?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ve,t[3]||(t[3]=[Object(r["createElementVNode"])("div",{class:"message-bubble typing"},[Object(r["createElementVNode"])("span",null,"."),Object(r["createElementVNode"])("span",null,"."),Object(r["createElementVNode"])("span",null,".")],-1)]))):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",Ne,null,512)],512),Object(r["createElementVNode"])("div",Se,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.input=e),onKeyup:t[1]||(t[1]=Object(r["withKeys"])((...e)=>s.sendMessage&&s.sendMessage(...e),["enter"])),placeholder:"Type your message...",disabled:a.isLoading},null,40,ke),[[r["vModelText"],a.input]]),Object(r["createElementVNode"])("button",{onClick:t[2]||(t[2]=(...e)=>s.sendMessage&&s.sendMessage(...e)),disabled:a.isLoading}," Send ",8,xe)])])}var Ae={name:"BedrockChatbot",props:{userId:{type:String,required:!0}},data(){return{messages:[],input:"",sessionId:null,conversationHistory:[],isLoading:!1,animalCompanion:null}},created(){this.messages.push({text:"Hello! I'm your AWS GenAI assistant. I'll help you discover your animal companion. Tell me about yourself, your interests, or ask me questions!",sender:"bot"})},updated(){this.scrollToBottom()},methods:{scrollToBottom(){this.$nextTick(()=>{const e=this.$refs.messagesContainer;e&&(e.scrollTop=e.scrollHeight)})},async sendMessage(){if(this.input.trim()){this.messages.push({text:this.input,sender:"user"}),this.isLoading=!0;try{const e=await G["a"].post("bedrockChatbotApi","/chat",{body:{userId:this.userId,message:this.input,sessionId:this.sessionId,conversationHistory:this.conversationHistory}});e.sessionId&&(this.sessionId=e.sessionId),e.conversationHistory&&(this.conversationHistory=e.conversationHistory),this.messages.push({text:e.message,sender:"bot"}),e.animalCompanion&&!this.animalCompanion&&(this.animalCompanion=e.animalCompanion,this.$emit("animal-companion-selected",e.animalCompanion))}catch(e){console.error("Error sending message:",e),this.messages.push({text:"I'm sorry, I encountered an error. Please try again.",sender:"bot",error:!0})}this.input="",this.isLoading=!1}}}};o("8d73");const Pe=N()(Ae,[["render",Ie],["__scopeId","data-v-68fc488a"]]);var _e=Pe,De={name:"App",components:{Authentication:k,PrintRequestForm:W,OrderStatus:de,OrderHistory:ye,BedrockChatbot:_e},data(){return{authState:"loading",user:null,currentOrder:null,orderHistory:[],isSubmitting:!1,animalCompanion:null}},async mounted(){await this.checkAuthState()},methods:{async checkAuthState(){try{const e=await h["a"].currentAuthenticatedUser();this.user=e,this.authState="signedin",await this.loadOrderHistory()}catch(e){this.authState="signedout"}},handleAuthStateChange(e,t){this.authState=e,this.user=t,"signedin"===e&&this.loadOrderHistory()},async signOut(){try{await h["a"].signOut(),this.authState="signedout",this.user=null,this.currentOrder=null,this.orderHistory=[]}catch(e){console.error("Error signing out:",e)}},handleOrderSubmitted(e){this.currentOrder=e,this.orderHistory.unshift(e)},handleStatusUpdate(e){this.currentOrder=e;const t=this.orderHistory.findIndex(t=>t.orderId===e.orderId);-1!==t&&(this.orderHistory[t]=e)},async loadOrderHistory(){this.orderHistory=[]},handleAnimalCompanionSelected(e){this.animalCompanion=e,console.log("Animal companion selected: "+e)}}};o("8aea");const Be=N()(De,[["render",b]]);var Te=Be,Ue=o("f24c"),Me=(o("4821"),o("af56")),Re=o("1344"),Le=o("7d03");const Fe=Object(Re["a"])();Le["a"].configure({Auth:{region:"eu-west-1",identityPoolRegion:"eu-west-1",userPoolId:"eu-west-1_d7auOm5tU",userPoolWebClientId:"573ec4lcj2u3n4f32ps4q91umm",mandatorySignIn:!1,authenticationFlowType:"USER_SRP_AUTH"},API:{endpoints:[{name:"hunyuan3d",endpoint:"https://ore3jeg6pb.execute-api.eu-west-1.amazonaws.com/prod",region:"eu-west-1"},{name:"bedrockChatbotApi",endpoint:"https://mx4rpopeni.execute-api.eu-west-1.amazonaws.com/prod",region:"eu-west-1"}]}});const qe=Object(r["createApp"])(Te);qe.use(Ue["VuesticPlugin"]),qe.use(Me["a"]),qe.config.globalProperties.emitter=Fe,qe.mount("#app")},"676d":function(e,t,o){},"6d51":function(e,t,o){},7865:function(e,t,o){"use strict";o("3ae5")},"803d":function(e,t,o){},"8aea":function(e,t,o){"use strict";o("fda9")},"8d73":function(e,t,o){"use strict";o("676d")},d513:function(e,t,o){},d777:function(e,t,o){"use strict";o("803d")},e982:function(e,t,o){"use strict";o("6d51")},fda9:function(e,t,o){}});
//# sourceMappingURL=app.7ccac230.js.map